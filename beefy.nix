with import <nixpkgs> {};
writeShellScriptBin "beefy" ''



#####################################################################
#####################################################################
#####################################################################
## Update the commithash to the latest commit hash of the repo
#####################################################################
#####################################################################
#####################################################################


commithash=42d0b0ded29ebd8823583472544b68e642593a6d
url=github:cbdeane/dev_flakes/''${commithash}?dir=






#####################################################################
#####################################################################
#####################################################################
## All versions
#####################################################################
#####################################################################
#####################################################################


#####################################################################
# initialize node template from github repo
#####################################################################


node22()
{
	nix flake init -t ''${url}node/nodejs_22_template
	direnv allow
}

#####################################################################
# initialize c template from github repo
#####################################################################

c()
{
	nix flake init -t ''${url}c/clang_template
	direnv allow
}

#####################################################################
# initialize go template from github repo
#####################################################################

go_1_23()
{
	nix flake init -t ''${url}go_1_23/go_1_23_template
	direnv allow
}

#####################################################################
# initialize java template from github repo
#####################################################################

jdk21()
{
	nix flake init -t ''${url}jdk21/jdk21_template
	direnv allow
}

#####################################################################
# initialize python 3.11 template from github repo
#####################################################################

python_3_11()
{
	nix flake init -t ''${url}python_3_11/python_3_11_template
	direnv allow
}

#####################################################################
# initialize rust template from github repo
#####################################################################

rustc_cargo()
{
	nix flake init -t ''${url}rustc_cargo/rustc_cargo_template
	direnv allow
}

#####################################################################
# initialize zig from github repo
#####################################################################

zig_0_11()
{
	nix flake init -t ''${url}zig_0_11/zig_0_11_template
	direnv allow
}

zig_0_12()
{	
	nix flake init -t ''${url}zig_0_12/zig_0_12_template
	direnv allow
}


#####################################################################
#####################################################################
#####################################################################
## handle arguments 
#####################################################################
#####################################################################
#####################################################################

process_args() {
    case $1 in
	node22)
	    node22
	    ;;
	c)
	    c
	    ;;
	go_1_23)
	    go_1_23
	    ;;
	jdk21)
	    jdk21
	    ;;
	python_3_11)
	    python_3_11
	    ;;
	rustc_cargo)
	    rustc_cargo
	    ;;
	zig_0_11)
	    zig_0_11
	    ;;
	zig_0_12)
	    zig_0_12
	    ;;
	*)
	    echo "Usage: devtask {node22|c|go_1_23|jdk21|python_3_11|rustc_cargo|zig_0_11|zig_0_12}"
	    ;;
    esac
}






#####################################################################
#####################################################################
#####################################################################
## main
#####################################################################
#####################################################################
#####################################################################


process_args $1
'' 


